(this.webpackJsonpqaq=this.webpackJsonpqaq||[]).push([[0],{117:function(e,t){},118:function(e,t){},119:function(e,t){},130:function(e,t,a){e.exports=a(209)},131:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){},141:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){"use strict";a.r(t);a(131);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=(a(136),a(222)),i=a(9),m=a(60),s=a(24),u=(a(137),a(123)),d=a(226),E=function(e){var t=e.size,a=void 0===t?"small":t;return r.a.createElement("div",null,r.a.createElement(d.a,{src:e.src,style:Object(u.a)({},{large:{width:"160px",height:"160px"},medium:{width:"68px",height:"68px"},small:{}}[a])}))},v=a(220),f=a(98),p=a.n(f),h=a(97),b=a.n(h),g=function(e){var t=e.followed,a=e.onClick,n={color:t?"default":"primary",variant:"contained",startIcon:t?r.a.createElement(b.a,null):r.a.createElement(p.a,null),onClick:a};return r.a.createElement(v.a,n,t?"\u5df2\u5173\u6ce8":"\u5173\u6ce8")},N=(a(141),a(221)),O=a(100),j=a.n(O),S=a(99),_=a.n(S),w=Object(N.a)({voteButtonLeftMargin:{marginLeft:"4px"},voteButton:{padding:"4px 10px"},activated:{border:"1px solid transparent"}}),x=function(e){var t=e.vote,a=void 0===t?0:t,n=e.onUp,l=e.onDown,c=e.onCancel,o={variant:0===a?"outlined":"contained",color:"primary",size:"small"},i=function(e){0!==a?c():[n,l][e]()},m=w();return r.a.createElement(r.a.Fragment,null,2!==a&&r.a.createElement(v.a,Object.assign({},o,{startIcon:r.a.createElement(_.a,null),onClick:function(){return i(0)},className:m.voteButton+" ".concat(1===a&&m.activated)}),"\u8d5e\u540c"),1!==a&&r.a.createElement(v.a,Object.assign({},o,{className:m.voteButtonLeftMargin+" "+m.voteButton+" ".concat(2===a&&m.activated),onClick:function(){return i(1)},startIcon:r.a.createElement(j.a,null)}),"\u53cd\u5bf9"))},y=a(102),C=a.n(y),A=a(101),T=a.n(A)()({greyText:{color:"#8590a6"}}),P=function(){var e=T().greyText;return r.a.createElement("div",null,r.a.createElement(v.a,{startIcon:r.a.createElement(C.a,null),variant:"text",className:e},"\u8bc4\u8bba"))},Q=function(e){var t=e.data.username,a=Math.min(e.data.gender,1),l=e.data.intro,c=e.data.img,o=Object(n.useState)(!1),i=Object(s.a)(o,2),m=i[0],u=i[1],d=[{label:"male",emoji:"\ud83d\udc68"},{label:"female",emoji:"\ud83d\udc69"},{label:"",emoji:""}];return r.a.createElement("div",{className:"profile-card card"},r.a.createElement("div",{className:"profile-header"},r.a.createElement("div",{className:"profile-avatar"},r.a.createElement(E,{size:"large",className:"avatar",src:c})),r.a.createElement("div",{className:"profile-info"},r.a.createElement("h1",{className:"user-name"},t),r.a.createElement("span",{role:"img","aria-label":d[a].label},d[a].emoji),(0===a||1===a)&&r.a.createElement("div",{className:"divider"}),r.a.createElement("span",{className:"profile-detail"},l),r.a.createElement("div",{className:"profile-footer"},r.a.createElement(g,{followed:m,onClick:function(){return u(!m)}})))))},k=a(224),B=a(103),D=a.n(B),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(a.auth,a.payload),r=a.params,l={method:e,url:t,params:r,data:n};return new Promise((function(e,t){return D()(l).then((function(a){200===a.status?e(a):t(a)})).catch((function(e){t(e)}))}))},L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return I("post",e,{payload:t,auth:a})},U={apiUrl:null===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL?"":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL},R=a(13),H=Object(R.a)(),W=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),m=Object(s.a)(o,2),u=m[0],d=m[1],E=function(e){e.status>=0?(c(!0),d(!0)):(k.b.error(e.msg),localStorage.removeItem("user"),c(!1),d(!0))};Object(n.useEffect)((function(){return function(e){var t="".concat(U.apiUrl,"/checkSession");L(t,{}).then((function(t){return e(t)}))}(E)}));var v=e.component,f=e.path,p=void 0===f?"/":f,h=e.exact,b=void 0!==h&&h,g=e.strict,N=void 0!==g&&g;return u?r.a.createElement(i.b,{path:p,exact:b,strict:N,render:function(e){return l?r.a.createElement(v,e):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}):null},K=(a(207),a(223)),M=a(225),q=a(114),F=a.n(q),z=a(116),V=a.n(z),J=a(115),$=a.n(J),G=(a(208),function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",{className:"feed-item-action"},r.a.createElement(x,{vote:a,onUp:function(){return l(1)},onDown:function(){return l(2)},onCancel:function(){return l(0)}}),r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(P,null)))}),X=function(e){var t=e.data,a=t.author,n=t.action,l=t.title,c=t.content;return r.a.createElement("div",{className:"story-item-container"},r.a.createElement("div",{className:"story-item-content"},r.a.createElement("div",{className:"feed-source"},a," ",["\u8d5e\u540c\u4e86\u56de\u7b54","\u63d0\u51fa\u4e86\u95ee\u9898","\u5173\u6ce8\u4e86\u95ee\u9898"][n]),r.a.createElement("div",null,r.a.createElement("h2",{className:"feed-item-title"},l),r.a.createElement("p",{className:"feed-item-content"},c),r.a.createElement("div",null,r.a.createElement(G,null)))))},Y=a(122),Z=function(e){var t=e.dataSource,a=Object(n.useMemo)((function(){return Object(Y.a)(t)}),[t]);return r.a.createElement(r.a.Fragment,null,a&&a.length&&a.length>0&&a.map((function(e,t){return r.a.createElement(X,{data:e,key:t})})))},ee=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(s.a)(c,2),i=o[0],m=o[1];return Object(n.useEffect)((function(){m([{author:"Author",action:0,title:"\u4ec0\u4e48\u662f QAQ?",content:"\u77e5\u4e4e\uff0c\u4e0d\u884c\uff01\nQAQ \u5f73\u4e8d\uff01\n"},{author:"undefined!",action:1,title:"\u5b87\u5b99\u7684\u7ec8\u6781\u7b54\u6848\u662f\u4ec0\u4e48\uff1f",content:"4 2\n"}])}),[]),r.a.createElement("div",null,r.a.createElement(Q,{data:{username:"QAQ \u5c0f\u7f16",gender:1,img:"https://avatars1.githubusercontent.com/u/71007591",intro:"\u54e6\uff01\u6211\u5411\u4e0a\u5e1d\u53d1\u8a93\uff0c\u6211\u4ec0\u4e48\u4e5f\u4e0d\u77e5\u9053\u3002\u6211\u6253\u8d4c\uff0c\u6211\u4f1a\u628aQAQ\u95ee\u5230\u5012\u95ed\uff01\u770b\u5728\u739b\u4e3d\u4e9a\u7684\u4efd\u4e0a\uff0c\u8bf7\u56de\u7b54\u6211\u7684\u95ee\u9898\u5427\uff01"}}),r.a.createElement("div",{className:"profile-main"},r.a.createElement("div",{className:"card profile-act"},r.a.createElement(M.a,{value:a,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return l(t)},"aria-label":"disabled tabs example"},r.a.createElement(K.a,{label:"\u52a8\u6001",style:{width:"10px"}}),r.a.createElement(K.a,{label:"\u56de\u7b54"}),r.a.createElement(K.a,{label:"\u95ee\u9898"}),r.a.createElement(K.a,{label:"\u5173\u6ce8"})),r.a.createElement(Z,{dataSource:i})),r.a.createElement("div",{className:"profile-side"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("div",{className:"card-header-text"},"\u6211\u7684 QAQ")),r.a.createElement("div",{className:"side-stat-detail"},r.a.createElement("div",{className:"side-stat-detail-item"},r.a.createElement("div",{className:"side-icon"},r.a.createElement(F.a,null)),r.a.createElement("span",null,"\u5173\u6ce8\u4e86 114 \u4e2a\u7528\u6237")),r.a.createElement("div",{className:"side-stat-detail-item"},r.a.createElement("div",{className:"side-icon"},r.a.createElement($.a,null)),r.a.createElement("span",null,"\u5173\u6ce8\u4e86 514 \u4e2a\u95ee\u9898")),r.a.createElement("div",{className:"side-stat-detail-item"},r.a.createElement("div",{className:"side-icon"},r.a.createElement(V.a,null)),r.a.createElement("span",null,"\u83b7\u5f97\u4e86 233 \u4e2a\u8d5e\u540c")))))))},te=a(117),ae=a.n(te),ne=a(118),re=a.n(ne),le=a(119),ce=a.n(le),oe={username:"QAQ \u5c0f\u7f16",gender:1,img:"https://avatars1.githubusercontent.com/u/71007591",intro:"\u54e6\uff01\u6211\u5411\u4e0a\u5e1d\u53d1\u8a93\uff0c\u6211\u4ec0\u4e48\u4e5f\u4e0d\u77e5\u9053\u3002\u6211\u6253\u8d4c\uff0c\u6211\u4f1a\u628aQAQ\u95ee\u5230\u5012\u95ed\uff01\u770b\u5728\u739b\u4e3d\u4e9a\u7684\u4efd\u4e0a\uff0c\u8bf7\u56de\u7b54\u6211\u7684\u95ee\u9898\u5427\uff01"},ie=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.c,{history:H},r.a.createElement("div",null,"This part is for development preview purpose when the homepage is not fully implemented. Remove this section after the HomeView is done.",r.a.createElement(m.a,{to:"/people"},"\u7528\u6237\u52a8\u6001(Avatar, Follow Button, Profile Header)"),r.a.createElement(m.a,{to:"/dev/profileHeader"},"profile header (preview only)")),r.a.createElement(i.d,null,r.a.createElement(W,{exact:!0,path:"/",component:ae.a}),r.a.createElement(i.b,{path:"/people"},r.a.createElement(ee,null)),r.a.createElement(i.b,{path:"/dev/profileHeader"},r.a.createElement(Q,{data:oe})),r.a.createElement(i.b,{exact:!0,path:"/login",component:re.a}),r.a.createElement(i.b,{exact:!0,path:"/register",component:ce.a}),r.a.createElement(i.a,{from:"/*",to:"/"}))))},me=a(70),se=a.n(me),ue=a(120),de=Object(ue.a)({palette:{primary:se.a}}),Ee=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{theme:de},r.a.createElement(ie,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[130,1,2]]]);
//# sourceMappingURL=main.cc9999df.chunk.js.map