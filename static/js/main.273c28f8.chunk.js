(this.webpackJsonpqaq=this.webpackJsonpqaq||[]).push([[0],{130:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),c=n(9),r=n.n(c),i=(n(79),n(12)),u=n(13),s=n(14),l=n(15),h=(n(80),n(131)),d={apiUrl:null===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL?"":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL},m=n(48),p=n.n(m),v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(n.auth,n.payload),o=n.params,c={method:t,url:e,params:o,data:a};return new Promise((function(t,e){return p()(c).then((function(n){200===n.status?t(n):e(n)})).catch((function(t){e(t)}))}))},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v("post",t,{payload:e,auth:n})},O=n(6),E=Object(O.a)(),_=n(132),b=function(t){Object(l.a)(n,t);var e=Object(s.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).checkAuth=function(t){console.log(t),t.status>=0?a.setState({isAuthed:!0,hasAuthed:!0}):(_.b.error(t.msg),localStorage.removeItem("user"),a.setState({isAuthed:!1,hasAuthed:!0}))},a.state={isAuthed:!1,hasAuthed:!1},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){!function(t){var e="".concat(d.apiUrl,"/checkSession");f(e,{}).then((function(e){return t(e)}))}(this.checkAuth)}},{key:"render",value:function(){var t=this,e=this.props,n=e.component,a=e.path,c=void 0===a?"/":a,r=e.exact,i=void 0!==r&&r,u=e.strict,s=void 0!==u&&u;return console.log(this.state.isAuthed),this.state.hasAuthed?o.a.createElement(h.b,{path:c,exact:i,strict:s,render:function(e){return t.state.isAuthed?o.a.createElement(n,e):o.a.createElement(h.a,{to:{pathname:"/login",state:{from:e.location}}})}}):null}}]),n}(o.a.Component),A=n(66),S=n.n(A),g=n(67),j=n.n(g),T=n(68),C=n.n(T),P=function(t){Object(l.a)(n,t);var e=Object(s.a)(n);function n(t){var a;return Object(i.a)(this,n),a=e.call(this,t),E.listen((function(t,e){console.log(t,e)})),a}return Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(h.c,{history:E},o.a.createElement(h.d,null,o.a.createElement(b,{exact:!0,path:"/",component:S.a}),o.a.createElement(h.b,{exact:!0,path:"/login",component:j.a}),o.a.createElement(h.b,{exact:!0,path:"/register",component:C.a}),o.a.createElement(h.a,{from:"/*",to:"/"})))}}]),n}(o.a.Component),k=function(t){Object(l.a)(n,t);var e=Object(s.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement(P,null)}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},66:function(t,e){},67:function(t,e){},68:function(t,e){},74:function(t,e,n){t.exports=n(130)},79:function(t,e,n){},80:function(t,e,n){}},[[74,1,2]]]);
//# sourceMappingURL=main.273c28f8.chunk.js.map