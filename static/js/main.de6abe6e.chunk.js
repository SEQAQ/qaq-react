(this.webpackJsonpqaq=this.webpackJsonpqaq||[]).push([[0],{201:function(e,t){},202:function(e,t){},203:function(e,t){},212:function(e,t,a){e.exports=a(387)},213:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){},364:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);a(213);var n=a(0),l=a.n(n),r=a(22),c=a.n(r),o=(a(218),a(401)),i=a(13),s=a(70),m=a(17),u=(a(219),a(220),a(405)),d=a(27),E=a(118),v=l.a.useState,f=l.a.useRef,p=l.a.useCallback;var h={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function b(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}function g(e){var t=e.onToggle,a=e.active,n=e.label,r=e.style,c="RichEditor-styleButton";return a&&(c+=" RichEditor-activeButton"),l.a.createElement("span",{className:c,onMouseDown:function(e){e.preventDefault(),t(r)}},n)}var y=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Code Block",style:"code-block"}];function O(e){var t=e.editorState,a=e.onToggle,n=t.getSelection(),r=t.getCurrentContent().getBlockForKey(n.getStartKey()).getType();return l.a.createElement("div",{className:"RichEditor-controls"},y.map((function(e){return l.a.createElement(g,{key:e.label,active:e.style===r,label:e.label,onToggle:a,style:e.style})})))}var N=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}];function C(e){var t=e.editorState,a=e.onToggle,n=t.getCurrentInlineStyle();return l.a.createElement("div",{className:"RichEditor-controls"},N.map((function(e){return l.a.createElement(g,{key:e.label,active:n.has(e.style),label:e.label,onToggle:a,style:e.style})})))}var j=function(e){var t=d.EditorState.createEmpty(),a=v(t),n=Object(m.a)(a,2),r=n[0],c=n[1],o=v(0),i=Object(m.a)(o,2),s=i[0],g=i[1],y=f(null),N=p((function(e,t){var a=d.RichUtils.handleKeyCommand(t,e);return a?(c(a),"handled"):"not-handled"}),[c]),j=p((function(e){switch(e.keyCode){case 9:var t=d.RichUtils.onTab(e,r,4);return t!==r&&c(t),null}return Object(d.getDefaultKeyBinding)(e)}),[r,c]),S="RichEditor-editor",w=r.getCurrentContent();return w.hasText()||"unstyled"!==w.getBlockMap().first().getType()&&(S+=" RichEditor-hidePlaceholder"),l.a.createElement("div",Object.assign({className:"RichEditor-root"},e),l.a.createElement("span",null,["Preview","Source"][s]),l.a.createElement(u.a,{checked:0===s,onChange:function(){var e,t,a=(e=w,Object(E.a)(Object(d.convertToRaw)(e)));if(1===s){var n=r.getCurrentContent().getPlainText();c(d.EditorState.createWithContent((t=n,Object(d.convertFromRaw)(Object(E.b)(t)))))}else 0===s&&c(d.EditorState.createWithContent(d.ContentState.createFromText(a)));g(1-s)},color:"primary"}),0===s&&l.a.createElement("div",null,l.a.createElement(O,{editorState:r,onToggle:function(e){var t=d.RichUtils.toggleBlockType(r,e);c(t)}}),l.a.createElement(C,{editorState:r,onToggle:function(e){var t=d.RichUtils.toggleInlineStyle(r,e);c(t)}})),l.a.createElement("div",{className:S,onClick:function(){y.current&&y.current.focus()}},l.a.createElement(d.Editor,{blockStyleFn:b,customStyleMap:h,editorState:r,handleKeyCommand:N,keyBindingFn:j,onChange:c,placeholder:"\u87f9\u9080~",ref:y,spellCheck:!0})))},S=a(403),w=a(180),k=a.n(w),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(a.auth,a.payload),l=a.params,r={method:e,url:t,params:l,data:n};return new Promise((function(e,t){return k()(r).then((function(a){200===a.status?e(a):t(a)})).catch((function(e){t(e)}))}))},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return x("post",e,{payload:t,auth:a})},R={apiUrl:null===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL?"":Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_URL},_=a(23),B=Object(_.a)(),I=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(!1),s=Object(m.a)(o,2),u=s[0],d=s[1],E=function(e){e.status>=0?(c(!0),d(!0)):(S.b.error(e.msg),localStorage.removeItem("user"),c(!1),d(!0))};Object(n.useEffect)((function(){return function(e){var t="".concat(R.apiUrl,"/checkSession");T(t,{}).then((function(t){return e(t)}))}(E)}));var v=e.component,f=e.path,p=void 0===f?"/":f,h=e.exact,b=void 0!==h&&h,g=e.strict,y=void 0!==g&&g;return u?l.a.createElement(i.b,{path:p,exact:b,strict:y,render:function(e){return r?l.a.createElement(v,e):l.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}}):null},A=(a(362),a(402)),D=a(404),P=a(198),U=a.n(P),H=a(200),L=a.n(H),Q=a(199),F=a.n(Q),q=(a(363),a(98)),K=a(399),M=a(192),W=a.n(M),z=a(191),V=a.n(z),J=function(e){var t=e.followed,a=e.onClick,n=Object(q.a)(e,["followed","onClick"]),r={color:t?"default":"primary",variant:"contained",startIcon:t?l.a.createElement(V.a,null):l.a.createElement(W.a,null),onClick:a};return l.a.createElement(K.a,Object.assign({},r,n),t?"\u5df2\u5173\u6ce8":"\u5173\u6ce8")},$=(a(364),a(400)),G=a(194),X=a.n(G),Y=a(193),Z=a.n(Y),ee=Object($.a)({voteButtonLeftMargin:{marginLeft:"4px"},voteButton:{padding:"4px 10px"},activated:{border:"1px solid transparent"}}),te=function(e){var t=e.vote,a=void 0===t?0:t,n=e.onUp,r=e.onDown,c=e.onCancel,o={variant:0===a?"outlined":"contained",color:"primary",size:"small"},i=function(e){0!==a?c():[n,r][e]()},s=ee();return l.a.createElement(l.a.Fragment,null,2!==a&&l.a.createElement(K.a,Object.assign({},o,{startIcon:l.a.createElement(Z.a,null),onClick:function(){return i(0)},className:s.voteButton+" ".concat(1===a&&s.activated)}),"\u8d5e\u540c"),1!==a&&l.a.createElement(K.a,Object.assign({},o,{className:s.voteButtonLeftMargin+" "+s.voteButton+" ".concat(2===a&&s.activated),onClick:function(){return i(1)},startIcon:l.a.createElement(X.a,null)}),"\u53cd\u5bf9"))},ae=a(196),ne=a.n(ae),le=a(195),re=a.n(le)()({greyText:{color:"#8590a6"}}),ce=function(){var e=re().greyText;return l.a.createElement("div",null,l.a.createElement(K.a,{startIcon:l.a.createElement(ne.a,null),variant:"text",className:e},"\u8bc4\u8bba"))},oe=function(){var e=Object(n.useState)(0),t=Object(m.a)(e,2),a=t[0],r=t[1];return l.a.createElement("div",{className:"feed-item-action"},l.a.createElement(te,{vote:a,onUp:function(){return r(1)},onDown:function(){return r(2)},onCancel:function(){return r(0)}}),l.a.createElement("div",{style:{marginLeft:"auto"}},l.a.createElement(ce,null)))},ie=a(197),se=a.n(ie),me=function(e){var t=e.onClick;return l.a.createElement("div",null,l.a.createElement(K.a,{startIcon:l.a.createElement(se.a,null),variant:"outlined",color:"primary",onClick:t},"\u6211\u6765\u7b54"))},ue=function(e){var t=e.followed,a=e.followHandler,n=e.answerHandler;return l.a.createElement("div",{className:"feed-item-action"},l.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},l.a.createElement(J,{onClick:function(){return a(t)},followed:t,style:{marginRight:"16px"}}),l.a.createElement(me,{onClick:n})))},de=function(e){var t=e.data,a=t.author,n=t.action,r=t.title,c=t.content;return l.a.createElement("div",{className:"story-item-container"},l.a.createElement("div",{className:"story-item-content"},l.a.createElement("div",{className:"feed-source"},a," ",["\u8d5e\u540c\u4e86\u56de\u7b54","\u63d0\u51fa\u4e86\u95ee\u9898","\u5173\u6ce8\u4e86\u95ee\u9898"][n]),l.a.createElement("div",null,l.a.createElement("h2",{className:"feed-item-title"},r),l.a.createElement("p",{className:"feed-item-content"},c),l.a.createElement("div",null,l.a.createElement(oe,null)))))},Ee=a(95),ve=function(e){var t=e.dataSource,a=Object(n.useMemo)((function(){return Object(Ee.a)(t)}),[t]);return l.a.createElement(l.a.Fragment,null,a&&a.length&&a.length>0&&a.map((function(e,t){return l.a.createElement(de,{data:e,key:t})})))},fe=(a(384),a(96)),pe=a(406),he=function(e){var t=e.size,a=void 0===t?"small":t;return l.a.createElement("div",null,l.a.createElement(pe.a,{src:e.src,style:Object(fe.a)({},{large:{width:"160px",height:"160px"},medium:{width:"68px",height:"68px"},small:{}}[a])}))},be=function(e){var t=e.data.username,a=Math.min(e.data.gender,1),r=e.data.intro,c=e.data.img,o=Object(n.useState)(!1),i=Object(m.a)(o,2),s=i[0],u=i[1],d=[{label:"male",emoji:"\ud83d\udc68"},{label:"female",emoji:"\ud83d\udc69"},{label:"",emoji:""}];return l.a.createElement("div",{className:"profile-card card"},l.a.createElement("div",{className:"profile-header"},l.a.createElement("div",{className:"profile-avatar"},l.a.createElement(he,{size:"large",className:"avatar",src:c})),l.a.createElement("div",{className:"profile-info"},l.a.createElement("h1",{className:"user-name"},t),l.a.createElement("span",{role:"img","aria-label":d[a].label},d[a].emoji),(0===a||1===a)&&l.a.createElement("div",{className:"divider"}),l.a.createElement("span",{className:"profile-detail"},r),l.a.createElement("div",{className:"profile-footer"},l.a.createElement(J,{followed:s,onClick:function(){return u(!s)}})))))},ge=function(){var e=Object(n.useState)(0),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(m.a)(c,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){s([{author:"Author",action:0,title:"\u4ec0\u4e48\u662f QAQ?",content:"\u77e5\u4e4e\uff0c\u4e0d\u884c\uff01\nQAQ \u5f73\u4e8d\uff01\n"},{author:"undefined!",action:1,title:"\u5b87\u5b99\u7684\u7ec8\u6781\u7b54\u6848\u662f\u4ec0\u4e48\uff1f",content:"4 2\n"}])}),[]),l.a.createElement("div",null,l.a.createElement(be,{data:{username:"QAQ \u5c0f\u7f16",gender:1,img:"https://avatars1.githubusercontent.com/u/71007591",intro:"\u54e6\uff01\u6211\u5411\u4e0a\u5e1d\u53d1\u8a93\uff0c\u6211\u4ec0\u4e48\u4e5f\u4e0d\u77e5\u9053\u3002\u6211\u6253\u8d4c\uff0c\u6211\u4f1a\u628aQAQ\u95ee\u5230\u5012\u95ed\uff01\u770b\u5728\u739b\u4e3d\u4e9a\u7684\u4efd\u4e0a\uff0c\u8bf7\u56de\u7b54\u6211\u7684\u95ee\u9898\u5427\uff01"}}),l.a.createElement("div",{className:"profile-main"},l.a.createElement("div",{className:"card profile-act"},l.a.createElement(D.a,{value:a,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){return r(t)},"aria-label":"disabled tabs example"},l.a.createElement(A.a,{label:"\u52a8\u6001",style:{width:"10px"}}),l.a.createElement(A.a,{label:"\u56de\u7b54"}),l.a.createElement(A.a,{label:"\u95ee\u9898"}),l.a.createElement(A.a,{label:"\u5173\u6ce8"})),l.a.createElement(ve,{dataSource:i})),l.a.createElement("div",{className:"profile-side"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("div",{className:"card-header-text"},"\u6211\u7684 QAQ")),l.a.createElement("div",{className:"side-stat-detail"},l.a.createElement("div",{className:"side-stat-detail-item"},l.a.createElement("div",{className:"side-icon"},l.a.createElement(U.a,null)),l.a.createElement("span",null,"\u5173\u6ce8\u4e86 114 \u4e2a\u7528\u6237")),l.a.createElement("div",{className:"side-stat-detail-item"},l.a.createElement("div",{className:"side-icon"},l.a.createElement(F.a,null)),l.a.createElement("span",null,"\u5173\u6ce8\u4e86 514 \u4e2a\u95ee\u9898")),l.a.createElement("div",{className:"side-stat-detail-item"},l.a.createElement("div",{className:"side-icon"},l.a.createElement(L.a,null)),l.a.createElement("span",null,"\u83b7\u5f97\u4e86 233 \u4e2a\u8d5e\u540c")))))))},ye=a(201),Oe=a.n(ye),Ne=a(202),Ce=a.n(Ne),je=(a(385),function(e){var t=e.data;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"userInfo",style:{display:"flex",alignItems:"center"}},l.a.createElement(he,{src:"123",size:"small"}),l.a.createElement("div",{style:{marginLeft:"15px",flex:"1 1"}},l.a.createElement("div",null,t.author),l.a.createElement("div",null,t.dept))),l.a.createElement("div",{style:{marginTop:"10px"}},t.content),l.a.createElement(oe,null))}),Se=function(e){var t=e.dataSource,a=Object(n.useMemo)((function(){return Object(Ee.a)(t)}),[t]);return l.a.createElement(l.a.Fragment,null,a&&a.length&&a.length>0&&a.map((function(e,t){return l.a.createElement("div",{style:{padding:"16px 20px"},key:t},l.a.createElement(je,{data:e,key:t}))})))},we=function(e){var t=e.className,a=e.style,n=e.children;return l.a.createElement("div",{className:"card "+t,style:Object(fe.a)({},a)},n)},ke=(a(386),function(e){var t=e.data,a=Object(q.a)(e,["data"]);return l.a.createElement("div",{className:"QuestionCardContainer"},l.a.createElement("h1",{className:"question-title"},t.title),l.a.createElement("p",null,"\u7b2c\u4e00\u6b21\u5728QAQ\u63d0\u95ee\uff0c\u87f9\u87f9\u5927\u5bb6"),l.a.createElement(ue,a))}),xe=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({}),o=Object(m.a)(c,2),i=o[0],s=o[1],u=Object(n.useState)([]),d=Object(m.a)(u,2),E=d[0],v=d[1],f=Object(n.useState)(!0),p=Object(m.a)(f,2),h=p[0],b=p[1];Object(n.useEffect)((function(){v([{author:"Author",dept:"Computer Science",content:"\u56e0\u4e3a\u4eba\u4eec\u95ee\u4e3a\u4ec0\u4e48\n"},{author:"undefined!",dept:"Software Enginering",content:"\u554a \u8fd9\n"}]),s({title:"\u4e3a\u4ec0\u4e48\u4eba\u4eec\u95ee\u4e3a\u4ec0\u4e48\uff1f"}),r(!1)}),[]);return l.a.createElement("div",null,l.a.createElement(we,{style:{width:"100vw"}},l.a.createElement("div",{style:{display:"flex",width:"1000px",margin:"0 auto"}},l.a.createElement(ke,{data:i,followed:a,followHandler:function(e){return r(!e)},answerHandler:function(){b(!h)}}))),h&&l.a.createElement(we,{id:"answer-editor",className:"main-editor"},l.a.createElement(j,{style:{width:"100%"}})),l.a.createElement("div",{className:"profile-main"},l.a.createElement("div",{className:"card profile-act"},l.a.createElement(Se,{dataSource:E})),l.a.createElement("div",{className:"profile-side"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("div",{className:"card-header-text"},"\u5176\u5b83\u95ee\u9898")),l.a.createElement("div",{className:"side-stat-detail"})))))},Te=a(203),Re=a.n(Te),_e=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.c,{history:B},l.a.createElement("div",null,"This part is for development preview purpose when the homepage is not fully implemented. Remove this section after the HomeView is done.",l.a.createElement(s.a,{to:"/people"},"\u7528\u6237\u52a8\u6001(Avatar, Follow Button, Profile Header)"),l.a.createElement(s.a,{to:"/question"},"\u95ee\u9898\u9875"),l.a.createElement("div",null,l.a.createElement(s.a,{to:"/dev/editor"},"Editor"))),l.a.createElement(i.d,null,l.a.createElement(I,{exact:!0,path:"/",component:Oe.a}),l.a.createElement(i.b,{path:"/question"},l.a.createElement(xe,null)),l.a.createElement(i.b,{path:"/people"},l.a.createElement(ge,null)),l.a.createElement(i.b,{path:"/dev/editor"},l.a.createElement(j,null)),l.a.createElement(i.b,{exact:!0,path:"/login",component:Ce.a}),l.a.createElement(i.b,{exact:!0,path:"/register",component:Re.a}),l.a.createElement(i.a,{from:"/*",to:"/"}))))},Be=a(115),Ie=a.n(Be),Ae=a(204),De=Object(Ae.a)({palette:{primary:Ie.a}}),Pe=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(o.a,{theme:De},l.a.createElement(_e,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[212,1,2]]]);
//# sourceMappingURL=main.de6abe6e.chunk.js.map